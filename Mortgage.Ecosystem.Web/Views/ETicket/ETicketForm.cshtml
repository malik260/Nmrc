@{    Layout = "~/Views/Shared/_FormWhite.cshtml";}<script src="https://cdn.ckeditor.com/4.16.1/standard/ckeditor.js"></script><div class="eTicket" id="eTicket">    <form id="form1" class="form-horizontal m">        <div class="dialogblockborder dialogblockborderheadline">            <div class="dialogblock-header" style="height: auto;">                <span class="dialogblockheader">Write Message</span>                <div class="form-group">                    <div class="col-sm-9">                        <label class="messageType control-label">Message Type<font class="red">&nbsp;*</font></label>                        <select id="messageType" name="MessageType" class="form-control" required>                            <option value="" selected disabled>Please select message type</option>                            <option value="Request">Request</option>                            <option value="Complaint">Complaint</option>                            <option value="Enquiry">Enquiry</option>                        </select>                    </div>                </div>                <div class="form-group">                    <div class="col-sm-9">                        <label for="subject" class="form-label">Subject</label>                        <input type="text" id="subject" col="Subject" required class="form-control">                    </div>                </div>                <div class="form-group">                    @* <div class="col-sm-12">                    <h4>Mail Body</h4>                    <div id="editor" col="Message"></div>                    </div>*@                    <div class="col-sm-9">                        <label class="control-label">Message<font class="red"> *</font></label>                        <textarea id="message" col="Message" type="text" class="form-control" style="height:120px;" required></textarea>                    </div>                </div>            </div>        </div>    </form></div><!-- SweetAlert2 CSS --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"><!-- SweetAlert2 JS --><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script><script type="text/javascript">    function saveForm(index) {        if ($("#form1").validate().form()) {            // Get the selected value for MessageType            var messageType = $('#messageType').val();            // Get other form data            var postData = {                Subject: $('#subject').val(),                MessageType: messageType,                Message: $('#message').val(),                // Add other form fields as needed            };            // Show SweetAlert2 spinner with processing message            Swal.fire({                title: 'Processing...',                html: 'Please wait while your request is being processed.',                allowOutsideClick: false,                didOpen: () => {                    Swal.showLoading();                }            });            // Send the data to the server            $.ajax({                url: '@Url.Content("~/ETicket/SaveFormJson")',                type: "post",                data: postData,                success: function (obj) {                    Swal.close(); // Close the SweetAlert2 spinner when the request completes                    if (obj.Tag == 1) {                        Swal.fire({                            icon: 'success',                            title: 'Success',                            text: obj.Message,                            confirmButtonText: 'OK'                        }).then(() => {                            parent.searchGrid();                            parent.layer.close(index);                        });                    } else {                        Swal.fire({                            icon: 'error',                            title: 'Error',                            text: obj.Message,                            confirmButtonText: 'OK'                        });                    }                },                error: function (jqXHR, textStatus, errorThrown) {                    Swal.close(); // Close the SweetAlert2 spinner in case of error                    Swal.fire({                        icon: 'error',                        title: 'Error',                        text: 'An error occurred while saving the form.',                        confirmButtonText: 'OK'                    });                }            });        }    }</script>