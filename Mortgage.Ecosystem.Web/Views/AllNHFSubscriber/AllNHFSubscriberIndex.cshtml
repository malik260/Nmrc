@{
    Layout = "~/Views/Shared/_Index.cshtml";
}



<div class="container-div">
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox">
                <div class="ibox-title">
                    <h5>Active Subscriber </h5>
                </div>
                <div class="ibox-content">
                    <div class="tabs-container">
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a data-toggle="tab" href="#employee" aria-expanded="true"> Employee(s)</a>
                            </li>
                            <li class="">
                                <a data-toggle="tab" href="#employer" aria-expanded="false">Employer(s)</a>
                            </li>
                            <li class="">
                                <a data-toggle="tab" href="#developer" aria-expanded="false">Developer(s)</a>
                            </li>
                            <li class="">
                                <a data-toggle="tab" href="#pmb" aria-expanded="false">Pmb</a>
                            </li>
                            <li class="">
                                <a data-toggle="tab" href="#cooperative" aria-expanded="false">Cooperative(s)</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div id="employee" class="tab-pane active">
                                <div class="panel-body">
                                    <div class="container-div">
                                        <div class="row">
                                            <div id="searchEmployeeDiv" class="col-sm-12 search-collapse">
                                                <div class="select-list">
                                                    <ul>
                                                        <li>
                                                            Name: <input id="name" col="Name" type="text" />
                                                        </li>
                                                        <li>
                                                            Status: <span id="employeeStatus" col="Status"></span>
                                                        </li>
                                                        <li class="select-time">
                                                            <label>Created: </label>
                                                            <input id="employeeStartTime" col="StartTime" type="text" class="time-input" placeholder="start time" />
                                                            <span>-</span>
                                                            <input id="employeeEndTime" col="EndTime" type="text" class="time-input" placeholder="end time" />
                                                        </li>
                                                        <li>
                                                            <a id="btnEmployeeSearch" class="btn btn-primary btn-sm" onclick="searchEmployeeGrid()"><i class="fa fa-search"></i>&nbsp;Search</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div id="employeeDivTable" class="col-sm-12 search-collapse">
                                                <div class="select-list">
                                                    <div class="col-sm-12">
                                                        <table id="gridEmployeeTable" data-mobile-responsive="true"></table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div id="employer" class="tab-pane">
                                <div class="panel-body">
                                    <div class="container-div">
                                        <div class="row">
                                            <div id="searchEmployerDiv" class="col-sm-12 search-collapse">
                                                <div class="select-list">
                                                    <ul>
                                                        <li>
                                                            Name: <input id="name" col="Name" type="text" />
                                                        </li>
                                                        <li>
                                                            Status: <span id="employerStatus" col="Status"></span>
                                                        </li>
                                                        <li class="select-time">
                                                            <label>Created: </label>
                                                            <input id="employerStartTime" col="StartTime" type="text" class="time-input" placeholder="start time" />
                                                            <span>-</span>
                                                            <input id="employerEndTime" col="EndTime" type="text" class="time-input" placeholder="end time" />
                                                        </li>
                                                        <li>
                                                            <a id="btnEmployerSearch" class="btn btn-primary btn-sm" onclick="searchEmployerGrid()"><i class="fa fa-search"></i>&nbsp;Search</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div id="employeerDivTable" class="col-sm-12 search-collapse">
                                                <div class="select-list">
                                                    <div class="col-sm-12">
                                                        <table id="gridEmployerTable" data-mobile-responsive="true"></table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>


                            <div id="developer" class="tab-pane">
                                <div class="panel-body">
                                    <div class="container-div">
                                        <div class="row">
                                            <div id="searchDeveloperDiv" class="col-sm-12 search-collapse">
                                                <div class="select-list">
                                                    <ul>
                                                        <li>
                                                            Name: <input id="name" col="Name" type="text" />
                                                        </li>
                                                        <li>
                                                            Status: <span id="developerStatus" col="Status"></span>
                                                        </li>
                                                        <li class="select-time">
                                                            <label>Created: </label>
                                                            <input id="developerStartTime" col="StartTime" type="text" class="time-input" placeholder="start time" />
                                                            <span>-</span>
                                                            <input id="developerEndTime" col="EndTime" type="text" class="time-input" placeholder="end time" />
                                                        </li>
                                                        <li>
                                                            <a id="btnDeveloperSearch" class="btn btn-primary btn-sm" onclick="searchDeveloperGrid()"><i class="fa fa-search"></i>&nbsp;Search</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div id="developerDivTable" class="col-sm-12 search-collapse">
                                                <div class="select-list">
                                                    <div class="col-sm-12">
                                                        <table id="gridDeveloperTable" data-mobile-responsive="true"></table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="pmb" class="tab-pane">
                                <div class="panel-body">
                                    <div class="container-div">
                                        <div class="row">
                                            <div id="searchPmbDiv" class="col-sm-12 search-collapse">
                                                <div class="select-list">
                                                    <ul>
                                                        <li>
                                                            Name: <input id="name" col="Name" type="text" />
                                                        </li>
                                                        <li>
                                                            Status: <span id="pmbStatus" col="Status"></span>
                                                        </li>
                                                        <li class="select-time">
                                                            <label>Created: </label>
                                                            <input id="pmbStartTime" col="StartTime" type="text" class="time-input" placeholder="start time" />
                                                            <span>-</span>
                                                            <input id="pmbEndTime" col="EndTime" type="text" class="time-input" placeholder="end time" />
                                                        </li>
                                                        <li>
                                                            <a id="btnPmbSearch" class="btn btn-primary btn-sm" onclick="searchPmbGrid()"><i class="fa fa-search"></i>&nbsp;Search</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div id="pmbDivTable" class="col-sm-12 search-collapse">
                                                <div class="select-list">
                                                    <div class="col-sm-12">
                                                        <table id="gridPmbTable" data-mobile-responsive="true"></table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="cooperative" class="tab-pane">
                                <div class="panel-body">
                                    <div class="container-div">
                                        <div class="row">
                                            <div id="searchCooperativeDiv" class="col-sm-12 search-collapse">
                                                <div class="select-list">
                                                    <ul>
                                                        <li>
                                                            Name: <input id="name" col="Name" type="text" />
                                                        </li>
                                                        <li>
                                                            Status: <span id="cooperativeStatus" col="Status"></span>
                                                        </li>
                                                        <li class="select-time">
                                                            <label>Created: </label>
                                                            <input id="cooperativeStartTime" col="StartTime" type="text" class="time-input" placeholder="start time" />
                                                            <span>-</span>
                                                            <input id="cooperativeEndTime" col="EndTime" type="text" class="time-input" placeholder="end time" />
                                                        </li>
                                                        <li>
                                                            <a id="btnCooperativeSearch" class="btn btn-primary btn-sm" onclick="searchCooperativeGrid()"><i class="fa fa-search"></i>&nbsp;Search</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div id="cooperativeDivTable" class="col-sm-12 search-collapse">
                                                <div class="select-list">
                                                    <div class="col-sm-12">
                                                        <table id="gridCooperativeTable" data-mobile-responsive="true">
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(function () {
        initGrid();

        $("#employeeStatus").cnComboBox({ data: cn.getJson(@Html.Raw(typeof(StatusEnum).EnumToDictionaryString())) });
        $("#employerStatus").cnComboBox({ data: cn.getJson(@Html.Raw(typeof(StatusEnum).EnumToDictionaryString())) });
        $("#developerStatus").cnComboBox({ data: cn.getJson(@Html.Raw(typeof(StatusEnum).EnumToDictionaryString())) });
        $("#pmbStatus").cnComboBox({ data: cn.getJson(@Html.Raw(typeof(StatusEnum).EnumToDictionaryString())) });
        $("#cooperativeStatus").cnComboBox({ data: cn.getJson(@Html.Raw(typeof(StatusEnum).EnumToDictionaryString())) });

        laydate.render({ elem: '#employeeStartTime', format: 'yyyy-MM-dd',theme:'molv' });
        laydate.render({ elem: '#employeeEndTime', format: 'yyyy-MM-dd', theme: 'molv' });

        laydate.render({ elem: '#employerStartTime', format: 'yyyy-MM-dd', theme: 'molv' });
        laydate.render({ elem: '#employerEndTime', format: 'yyyy-MM-dd', theme: 'molv' });

        laydate.render({ elem: '#developerStartTime', format: 'yyyy-MM-dd', theme: 'molv' });
        laydate.render({ elem: '#developerEndTime', format: 'yyyy-MM-dd', theme: 'molv' });

        laydate.render({ elem: '#pmbStartTime', format: 'yyyy-MM-dd', theme: 'molv' });
        laydate.render({ elem: '#pmbEndTime', format: 'yyyy-MM-dd', theme: 'molv' });

        laydate.render({ elem: '#cooperativeStartTime', format: 'yyyy-MM-dd', theme: 'molv' });
        laydate.render({ elem: '#cooperativeEndTime', format: 'yyyy-MM-dd', theme: 'molv' });
    });

    function initGrid() {
        var queryEmployeeUrl = '@Url.Content("~/AllNHFSubscriber/GetEmployeePageListJson")';
        var queryEmployerUrl = '@Url.Content("~/AllNHFSubscriber/GetEmployerPageListJson")';
        var queryDeveloperUrl = '@Url.Content("~/AllNHFSubscriber/GetDeveloperPageListJson")';
        var queryPmbUrl = '@Url.Content("~/AllNHFSubscriber/GetPmbPageListJson")';
        var queryCooperativeUrl = '@Url.Content("~/AllNHFSubscriber/GetCooperativePageListJson")';


        $('#gridEmployeeTable').cnTable({
            url: queryEmployeeUrl,
            columns: [
                { checkbox: true, visible: true },
                { field: 'Id', title: 'Id', visible: false },
                { field: 'NHFEmployerNumber', title: 'NHF Employer Number', sortable: true },
                { field: 'NHFEmployeeNumber', title: 'NHF Employee Number', sortable: true },
                { field: 'Name', title: 'Employee Name', sortable: true },
                { field: 'Email', title: 'Email Address', sortable: true },
                { field: 'Phone', title: 'Phone Number', sortable: true },
                {
                    field: 'BaseModifyTime', title: ' Date Created', formatter: function (value, row, index) {
                        return cn.formatDate(value, "yyyy-MM-dd HH:mm:ss");
                    }
                },
                {
                    field: 'Status', title: 'Status', sortable: true}

            ],
            queryParams: function (params) {
                var pagination = $('#gridEmployeeTable').cnTable('getPagination', params);
                var queryString = $("#searchEmployeeDiv").getWebControls(pagination);
                return queryString;
            }
        });

        $('#gridEmployerTable').cnTable({
            url: queryEmployerUrl,
            columns: [
                { checkbox: true, visible: true },
                { field: 'Id', title: 'Id', visible: false },
                { field: 'NHFEmployerNumber', title: 'NHF Employer Number', sortable: true },
                { field: 'Name', title: 'Employee Name', sortable: true },
                { field: 'Phone', title: 'Phone Number', sortable: true },
                { field: 'Email', title: 'Email', sortable: true },
                { field: 'ContactPerson', title: 'Contact Person', sortable: true },
                {
                    field: 'BaseModifyTime', title: 'Date Created', formatter: function (value, row, index) {
                        return cn.formatDate(value, "yyyy-MM-dd HH:mm:ss");
                    }
                },

                {
                    field: 'Status', title: 'Status', sortable: true
                }


            ],
            queryParams: function (params) {
                var pagination = $('#gridEmployerTable').cnTable('getPagination', params);
                var queryString = $("#searchEmployerDiv").getWebControls(pagination);
                return queryString;
            }
        });

        $('#gridDeveloperTable').cnTable({
            url: queryDeveloperUrl,
            columns: [
                { checkbox: true, visible: true },
                { field: 'Id', title: 'Id', visible: false },
                { field: 'CompanyName', title: 'Company Name', sortable: true },
                { field: 'CompanyNumber', title: 'Company Number', sortable: true },
                { field: 'Email', title: 'Email Address', sortable: true },
                { field: 'Phone', title: 'Phone Address', sortable: true },
                { field: 'DateOfIncorporation', title: 'Date Of Incorporation', sortable: true },

                {
                    field: 'BaseModifyTime', title: 'Date Created', formatter: function (value, row, index) {
                        return cn.formatDate(value, "yyyy-MM-dd HH:mm:ss");
                    }
                },
                {
                    field: 'Status', title: 'Status', sortable: true
                }
            ],
            queryParams: function (params) {
                var pagination = $('#gridDeveloperTable').cnTable('getPagination', params);
                var queryString = $("#searchDeveloperDiv").getWebControls(pagination);
                return queryString;
            }
        });
        $('#gridPmbTable').cnTable({
            url: queryPmbUrl,
            columns: [
                { checkbox: true, visible: true },
                { field: 'Id', title: 'Id', visible: false },
                { field: 'CompanyName', title: 'Company Name', sortable: true },
                { field: 'CompanyNumber', title: 'Company Number', sortable: true },
                { field: 'Email', title: 'Email Address', sortable: true },
                { field: 'Phone', title: 'Phone Address', sortable: true },
                { field: 'DateOfIncorporation', title: 'Date Of Incorporation', sortable: true },

                {
                    field: 'BaseModifyTime', title: 'Date Created', formatter: function (value, row, index) {
                        return cn.formatDate(value, "yyyy-MM-dd HH:mm:ss");
                    }
                },
                {
                    field: 'Status', title: 'Status', sortable: true
                }
            ],
            queryParams: function (params) {
                var pagination = $('#gridPmbTable').cnTable('getPagination', params);
                var queryString = $("#searchPmbDiv").getWebControls(pagination);
                return queryString;
            }
        });

      $('#gridCooperativeTable').cnTable({

        url: queryCooperativeUrl,

        columns: [
        { checkbox: true, visible: true },
        { field: 'Id', title: 'Id', visible: false },
        { field: 'CompanyName', title: 'Company Name', sortable: true },
        { field: 'CompanyNumber', title: 'Company Number', sortable: true },
        { field: 'Email', title: 'Email Address', sortable: true },
        { field: 'Phone', title: 'Phone Address', sortable: true },
        { field: 'DateOfIncorporation', title: 'Date Of Incorporation', sortable: true },
        {
            field: 'BaseModifyTime', title: 'Date Created', formatter: function (value, row, index) {
                return cn.formatDate(value, "yyyy-MM-dd HH:mm:ss");
            }
        },
        {
            field: 'Status', title: 'Status', sortable: true
        }
    ],
    queryParams: function (params) {
        var pagination = $('#gridCooperativeTable').cnTable('getPagination', params);
        var queryString = $("#searchCooperativeDiv").getWebControls(pagination);
        return queryString;
        }
    });


    }


    function searchGrid() {
        $('#gridEmployeeTable').cnTable('search');
        resetToolbarStatus();
    }

    function searchGrid() {
        $('#gridEmployerTable').cnTable('search');
        resetToolbarStatus();
    }

    function searchGrid() {
        $('#gridDeveloperTable').cnTable('search');
        resetToolbarStatus();
    }

    function searchGrid() {
        $('#gridPmbTable').cnTable('search');
        resetToolbarStatus();
    }

    function searchGrid() {
        $('#gridCooperativeTable').cnTable('search');
        resetToolbarStatus();
    }


</script>